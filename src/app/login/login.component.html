<div class="login">
  <nav>
    <ul>
      <li><button (click)="showSection(1)" [class.active]="visibleSection == 1">Rejestracja</button></li>
      <li><button (click)="showSection(2)" [class.active]="visibleSection == 2">Logowanie</button></li>
    </ul>
  </nav>
  <div class="form-box" *ngIf="visibleSection == 1">
    <h1><i class="fas fa-user-plus"></i>Rejestracja</h1>
      <form [formGroup]="registerForm" (ngSubmit)="signUp(registerForm.value.tag)">

        <div class="input-group">
          <input type="text"
                 formControlName="nick"
                 id="nick"
                 placeholder="Nazwa użytkownika: ">
          <div class="error" *ngIf="registerForm.controls['nick'].invalid && registerForm.controls['nick'].touched">
            Nazwa musi:
            <ul>
              <li>Być nie krótsza niż 4 znaki</li>
              <li>Być nie dłuższa niż 15 znaków</li>
              <li>Nie może zawierać polskich znaków</li>
              <li>Składać się z małych liter</li>
            </ul>
          </div>
        </div>

        <div class="input-group">
          <input type="email" formControlName="email" id="email" placeholder="Adres e-mail: ">
          <div class="error" *ngIf="registerForm.controls['email'].invalid && registerForm.controls['email'].touched">
            E-mail musi:
            <ul>
              <li>Istnieć</li>
              <li>Nie zawierać polskich znaków</li>
            </ul>
          </div>
        </div>

        <div class="input-group">
          <input type="password" formControlName="password" id="password" placeholder="Twoje hasło: ">
          <div class="error"
               *ngIf="registerForm.controls['password'].invalid && registerForm.controls['password'].touched">
            Hasło musi:
            <ul>
              <li>Być niekrótsze niż 6 znaków</li>
              <li>Być niedłuższe niż 20 znaków</li>
            </ul>
          </div>
        </div>

        <div class="input-group">
          <input type="date" formControlName="birth" id="birth">
        </div>

        <div class="input-group">
          <input type="checkbox" formControlName="terms" id="terms">
          <div class="error">
            Aby się zarejestrować musisz zaakceptować regulamin (którego jeszcze nie ma)
            <a href="/assets/TODO.txt">Regulamin</a>
          </div>
        </div>

        <div class="input-group">
          <input type="submit" value="Zarejestruj" [disabled]="!registerForm.valid">
        </div>
      </form>
  </div>

  <div class="form-box" *ngIf="visibleSection == 2">
    <h1><i class="fas fa-sign-in-alt"></i>Logowanie</h1>
    <div class="form">
      <form [formGroup]="loginForm" (ngSubmit)="signIn(loginForm.value)">
        <div class="input-group">
          <input type="email" formControlName="email" id="login-email" placeholder="Adres e-mail: ">
        </div>

        <div class="input-group">
          <input type="password" formControlName="password" id="login-password" placeholder="Twoje hasło: ">
        </div>
        <div class="input-group">
          <input type="submit" value="Zaloguj" [disabled]="!loginForm.valid">
        </div>
      </form>
    </div>
  </div>
</div>
